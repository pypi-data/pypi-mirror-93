(this["webpackJsonpstreamlit-aggrid"]=this["webpackJsonpstreamlit-aggrid"]||[]).push([[0],{208:function(e,t,r){"use strict";r.r(t);var a=r(57),n=r(40),i=r.n(n),o=r(95),u=r.n(o),s=r(3),c=r(7),d=r(5),l=r(6),m=r(167),p=r(186),f=r(0),h=r(87),g=r(188),v=r(28),y=(r(205),r(206),r(211)),b=r(212),F=r(213);var O=function e(t,r){var a=function(t){return null!==t&&"object"===typeof t?e(t,r):r(t)};return Array.isArray(t)?t.map(a):"object"===typeof t?function(e,t){return Object.keys(e).reduce((function(r,a){return r[a]=t(e[a]),r}),{})}(t,a):t},j=r(187),_=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(e){var n,i=this;return Object(s.a)(this,r),(n=t.call(this,e)).frameDtypes=void 0,n.api=void 0,n.columnApi=void 0,n.columnFormaters=void 0,n.manualUpdateRequested=!1,n.allowUnsafeJsCode=!1,n.fitColumnsOnGridLoad=!1,n.gridOptions=void 0,n.convertJavascriptCodeOnGridOptions=function(e){return O(e,n.convertStringToFunction)},n.render=function(){var e=Object.assign({},n.columnFormaters,n.gridOptions);return n.allowUnsafeJsCode&&(console.warn("flag allow_unsafe_jscode is on."),e=n.convertJavascriptCodeOnGridOptions(e)),Object(a.jsxs)("div",{className:"ag-theme-balham",style:n.defineContainerHeight(),children:[Object(a.jsx)(i.ManualUpdateButton,{manual_update:n.manualUpdateRequested,onClick:function(e){return n.returnGridValue(e)}}),Object(a.jsx)(p.AgGridReact,{onGridReady:function(e){return n.onGridReady(e)},gridOptions:e,rowData:n.state.rowData})]})},n.state={rowData:e.args.row_data,gridHeight:n.props.args.height},e.args.enable_enterprise_modules?(f.ModuleRegistry.registerModules(g.a),"license_key"in e.args&&v.b.setLicenseKey(e.args.license_key)):f.ModuleRegistry.registerModules(h.a),n.frameDtypes=n.props.args.frame_dtypes,n.manualUpdateRequested=1===n.props.args.update_mode,n.allowUnsafeJsCode=n.props.args.allow_unsafe_jscode,n.fitColumnsOnGridLoad=n.props.args.fit_columns_on_grid_load,n.gridOptions=n.props.args.gridOptions,n.columnFormaters={columnTypes:{dateColumnFilter:{filter:"agDateColumnFilter",filterParams:{comparator:function(e,t){return Object(y.a)(Object(b.a)(t),e)}}},numberColumnFilter:{filter:"agNumberColumnFilter"},shortDateTimeFormat:{valueFormatter:function(e){return n.dateFormatter(e.value,"dd/MM/yyyy HH:mm")}},customDateTimeFormat:{valueFormatter:function(e){return n.dateFormatter(e.value,e.column.colDef.custom_format_string)}},customNumericFormat:{valueFormatter:function(e){var t;return n.numberFormatter(e.value,null!==(t=e.column.colDef.precision)&&void 0!==t?t:2)}},customCurrencyFormat:{valueFormatter:function(e){return n.currencyFormatter(e.value,e.column.colDef.custom_currency_symbol)}},timedeltaFormat:{valueFormatter:function(e){return Object(j.duration)(e.value).humanize(!0)}}}},n}return Object(c.a)(r,[{key:"convertStringToFunction",value:function(e){var t="--x_x--0_0--",r=new RegExp("".concat(t,"\\s*(function\\s*.*)\\s*").concat(t)).exec(e);if(r){var a=r[1];return new Function("return "+a)()}return e}},{key:"setUpdateMode",value:function(){var e=this;if(!this.manualUpdateRequested){var t=this.props.args.update_mode;2===(2&t)&&this.api.addEventListener("cellValueChanged",(function(t){return e.returnGridValue(t)})),4===(4&t)&&this.api.addEventListener("selectionChanged",(function(t){return e.returnGridValue(t)})),8===(8&t)&&this.api.addEventListener("filterChanged",(function(t){return e.returnGridValue(t)})),16===(16&t)&&this.api.addEventListener("sortChanged",(function(t){return e.returnGridValue(t)}))}}},{key:"onGridReady",value:function(e){var t=this;this.api=e.api,this.columnApi=e.columnApi,this.setUpdateMode(),this.api.addEventListener("firstDataRendered",(function(e){return t.fitColumns()}))}},{key:"fitColumns",value:function(){this.fitColumnsOnGridLoad?this.api.sizeColumnsToFit():this.columnApi.autoSizeAllColumns()}},{key:"dateFormatter",value:function(e,t){try{var r=Object(b.a)(e);return Object(F.a)(r,t)}catch(a){return e}}},{key:"currencyFormatter",value:function(e,t){var r=Number.parseFloat(e);return Number.isNaN(r)?e:t+r.toFixed(2)}},{key:"numberFormatter",value:function(e,t){var r=Number.parseFloat(e);return Number.isNaN(r)?e:r.toFixed(t)}},{key:"returnGridValue",value:function(e){var t=[];switch(this.props.args.data_return_mode){case 0:this.api.forEachLeafNode((function(e){return t.push(e.data)}));break;case 1:this.api.forEachNodeAfterFilter((function(e){e.group||t.push(e.data)}));break;case 2:this.api.forEachNodeAfterFilterAndSort((function(e){e.group||t.push(e.data)}))}var r={originalDtypes:this.frameDtypes,rowData:t,selectedRows:this.api.getSelectedRows()};m.a.setComponentValue(r)}},{key:"ManualUpdateButton",value:function(e){return e.manual_update?Object(a.jsx)("button",{onClick:e.onClick,children:"Update"}):Object(a.jsx)("span",{})}},{key:"defineContainerHeight",value:function(){return"domLayout"in this.gridOptions&&"autoHeight"===this.gridOptions.domLayout?{width:this.props.width}:{width:this.props.width,height:this.state.gridHeight}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.args.reload_data?{rowData:e.args.row_data,gridHeight:e.args.height}:{gridHeight:e.args.height}}}]),r}(m.b),C=Object(m.c)(_);u.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.a61a0a80.chunk.js.map