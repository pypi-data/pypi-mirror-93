(this["webpackJsonpstreamlit-aggrid"]=this["webpackJsonpstreamlit-aggrid"]||[]).push([[0],{207:function(t,e,r){"use strict";r.r(e);var a=r(56),n=r(39),i=r.n(n),o=r(94),u=r.n(o),s=r(3),d=r(7),c=r(5),l=r(6),m=r(166),p=r(185),f=r(0),h=r(86),g=r(187),v=(r(204),r(205),r(210)),y=r(211),b=r(212);var F=function t(e,r){var a=function(e){return null!==e&&"object"===typeof e?t(e,r):r(e)};return Array.isArray(e)?e.map(a):"object"===typeof e?function(t,e){return Object.keys(t).reduce((function(r,a){return r[a]=e(t[a]),r}),{})}(e,a):e},O=r(186),j=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){var n,i=this;return Object(s.a)(this,r),(n=e.call(this,t)).frameDtypes=void 0,n.api=void 0,n.columnApi=void 0,n.columnFormaters=void 0,n.manualUpdateRequested=!1,n.allowUnsafeJsCode=!1,n.fitColumnsOnGridLoad=!1,n.gridOptions=void 0,n.convertJavascriptCodeOnGridOptions=function(t){return F(t,n.convertStringToFunction)},n.render=function(){var t=Object.assign({},n.columnFormaters,n.gridOptions);return n.allowUnsafeJsCode&&(console.warn("flag allow_unsafe_jscode is on."),t=n.convertJavascriptCodeOnGridOptions(t)),Object(a.jsxs)("div",{className:"ag-theme-balham",style:n.defineContainerHeight(),children:[Object(a.jsx)(i.ManualUpdateButton,{manual_update:n.manualUpdateRequested,onClick:function(t){return n.returnGridValue(t)}}),Object(a.jsx)(p.AgGridReact,{onGridReady:function(t){return n.onGridReady(t)},gridOptions:t,rowData:n.state.rowData})]})},n.state={rowData:t.args.row_data,gridHeight:n.props.args.height},t.args.enable_enterprise_modules?f.ModuleRegistry.registerModules(g.a):f.ModuleRegistry.registerModules(h.a),n.frameDtypes=n.props.args.frame_dtypes,n.manualUpdateRequested=1===n.props.args.update_mode,n.allowUnsafeJsCode=n.props.args.allow_unsafe_jscode,n.fitColumnsOnGridLoad=n.props.args.fit_columns_on_grid_load,n.gridOptions=n.props.args.gridOptions,n.columnFormaters={columnTypes:{dateColumnFilter:{filter:"agDateColumnFilter",filterParams:{comparator:function(t,e){return Object(v.a)(Object(y.a)(e),t)}}},numberColumnFilter:{filter:"agNumberColumnFilter"},shortDateTimeFormat:{valueFormatter:function(t){return n.dateFormatter(t.value,"dd/MM/yyyy HH:mm")}},customDateTimeFormat:{valueFormatter:function(t){return n.dateFormatter(t.value,t.column.colDef.custom_format_string)}},customNumericFormat:{valueFormatter:function(t){var e;return n.numberFormatter(t.value,null!==(e=t.column.colDef.precision)&&void 0!==e?e:2)}},customCurrencyFormat:{valueFormatter:function(t){return n.currencyFormatter(t.value,t.column.colDef.custom_currency_symbol)}},timedeltaFormat:{valueFormatter:function(t){return Object(O.duration)(t.value).humanize(!0)}}}},n}return Object(d.a)(r,[{key:"convertStringToFunction",value:function(t){var e="--x_x--0_0--",r=new RegExp("".concat(e,"\\s*(function\\s*.*)\\s*").concat(e)).exec(t);if(r){var a=r[1];return new Function("return "+a)()}return t}},{key:"setUpdateMode",value:function(){var t=this;if(!this.manualUpdateRequested){var e=this.props.args.update_mode;2===(2&e)&&this.api.addEventListener("cellValueChanged",(function(e){return t.returnGridValue(e)})),4===(4&e)&&this.api.addEventListener("selectionChanged",(function(e){return t.returnGridValue(e)})),8===(8&e)&&this.api.addEventListener("filterChanged",(function(e){return t.returnGridValue(e)})),16===(16&e)&&this.api.addEventListener("sortChanged",(function(e){return t.returnGridValue(e)}))}}},{key:"onGridReady",value:function(t){var e=this;this.api=t.api,this.columnApi=t.columnApi,this.setUpdateMode(),this.api.addEventListener("firstDataRendered",(function(t){return e.fitColumns()}))}},{key:"fitColumns",value:function(){this.fitColumnsOnGridLoad?this.api.sizeColumnsToFit():this.columnApi.autoSizeAllColumns()}},{key:"dateFormatter",value:function(t,e){try{var r=Object(y.a)(t);return Object(b.a)(r,e)}catch(a){return t}}},{key:"currencyFormatter",value:function(t,e){var r=Number.parseFloat(t);return Number.isNaN(r)?t:e+r.toFixed(2)}},{key:"numberFormatter",value:function(t,e){var r=Number.parseFloat(t);return Number.isNaN(r)?t:r.toFixed(e)}},{key:"returnGridValue",value:function(t){var e=[];switch(this.props.args.data_return_mode){case 0:this.api.forEachLeafNode((function(t){return e.push(t.data)}));break;case 1:this.api.forEachNodeAfterFilter((function(t){t.group||e.push(t.data)}));break;case 2:this.api.forEachNodeAfterFilterAndSort((function(t){t.group||e.push(t.data)}))}var r={originalDtypes:this.frameDtypes,rowData:e,selectedRows:this.api.getSelectedRows()};m.a.setComponentValue(r)}},{key:"ManualUpdateButton",value:function(t){return t.manual_update?Object(a.jsx)("button",{onClick:t.onClick,children:"Update"}):Object(a.jsx)("span",{})}},{key:"defineContainerHeight",value:function(){return"domLayout"in this.gridOptions&&"autoHeight"===this.gridOptions.domLayout?{width:this.props.width}:{width:this.props.width,height:this.state.gridHeight}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.args.reload_data?{rowData:t.args.row_data,gridHeight:t.args.height}:{gridHeight:t.args.height}}}]),r}(m.b),C=Object(m.c)(j);u.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.bd072d4f.chunk.js.map