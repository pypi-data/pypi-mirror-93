(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{BD01:function(e,t,a){e.exports={basic:"basic___1O9xU",advanced:"advanced___UNaWL",titleContainer:"titleContainer___2CZg5",main:"main___2FrQu",process:"process___1XMbQ",fileUpload:"fileUpload___1iSw4",tips:"tips___21rix",stepTitle:"stepTitle___3_Xk5",stepTips:"stepTips___1sOGr",bar:"bar___OY4o7",number:"number___WZgsz",type:"type___1tWtM",date:"date___8Amdf",text:"text___1Bznx",legend:"legend___2Gjk4",typeCir:"typeCir___1h6hF",dateCir:"dateCir___f_Df0",textCir:"textCir___2MrcD",symbol:"symbol___25pMe",comment:"comment___xsDhm",barWrapper:"barWrapper___1tppb",cvdata:"cvdata___1DrxP",numberCir:"numberCir___2Oi3i",goTrain:"goTrain___1n2Mb",cvdataCir:"cvdataCir___29l0B",testCir:"testCir___1wx2E",breadcrumbIndex:"breadcrumbIndex___2k1YX",labelTip:"labelTip___Pm8qq"}},YMUj:function(e,t,a){"use strict";a.r(t);a("IzEo");var r=a("bx4M"),n=(a("sPJy"),a("bE4q")),l=(a("7Kak"),a("9yH6")),i=(a("+L6B"),a("2/Rp")),s=(a("5NDa"),a("5rEg")),c=(a("y8nQ"),a("Vl3Y")),o=a("qIgq"),m=a.n(o),d=a("q1tI"),u=a.n(d),p=a("/MKj"),b=a("Ty5D"),h=a("X/SJ"),f=a("5ahD"),g=(a("14J3"),a("BMrR")),E=(a("giR+"),a("fyUT")),v=(a("jCWc"),a("kPKH")),_=(a("8dk+"),a("eZ87")),y=(a("OaEy"),a("2fM7")),O=a("LLXN"),j=a("Kvkj"),M=Object(d["memo"])(e=>{var t=e.labelType,a=e.labelData,r={categorical:u.a.createElement("div",{style:{width:500}},u.a.createElement(j["f"],{data:a,updateWhenChange:!0})),continuous:u.a.createElement("div",{style:{width:500}},u.a.createElement(j["d"],{hData:a}))};return u.a.createElement(u.a.Fragment,null,r[t])}),x=M,S=a("BD01"),k=a.n(S),N=a("V6UL"),T=a("ygAv"),w=a("z6lB"),C=(a("RWK8"),y["a"].Option),D=[{name:"".concat(Object(O["formatMessage"])({id:"extra.trainUnion"})),count:80,color:"rgba(49, 154, 228, 1)"},{name:"".concat(Object(O["formatMessage"])({id:"extra.verifyUnion"})),count:10,color:"rgba(6, 194, 97, 1)"},{name:"".concat(Object(O["formatMessage"])({id:"extra.testUnion"})),count:10,color:"rgba(225, 67, 68, 1)"}],I=e=>{var t=e.train.labelName,a=e.dispatch,n=e.location.query.datasetName,s=["HyperGBM","DeepTables"],o=Object(d["useRef"])(),p=Object(d["useState"])("train_validation_holdout"),b=m()(p,2),h=b[0],f=b[1],M=Object(d["useState"])(null),S=m()(M,2),I=S[0],L=S[1],F=Object(d["useState"])(null),P=m()(F,2),A=P[0],R=P[1],U=Object(d["useState"])(""),z=m()(U,2),q=z[0],B=z[1],W=Object(d["useState"])(s[0]),J=m()(W,2),K=J[0],V=J[1],Y=Object(d["useState"])(t),H=m()(Y,2),X=H[0],Z=H[1],G=Object(d["useState"])(""),Q=m()(G,2),$=Q[0],ee=Q[1],te=Object(d["useState"])(""),ae=m()(te,2),re=ae[0],ne=ae[1],le=Object(d["useState"])("quick"),ie=m()(le,2),se=ie[0],ce=ie[1],oe=Object(d["useState"])(5),me=m()(oe,2),de=me[0],ue=me[1],pe=Object(d["useState"])(20),be=m()(pe,2),he=be[0],fe=be[1],ge=Object(d["useState"])(""),Ee=m()(ge,2),ve=Ee[0],_e=Ee[1],ye=Object(d["useState"])(!1),Oe=m()(ye,2),je=Oe[0],Me=Oe[1],xe=Object(d["useState"])(!1),Se=m()(xe,2),ke=Se[0],Ne=Se[1],Te=Object(d["useState"])(D),we=m()(Te,2),Ce=we[0],De=we[1],Ie=Object(d["useState"])([]),Le=m()(Ie,2),Fe=Le[0],Pe=Le[1],Ae=(null===Fe||void 0===Fe?void 0:Fe.filter(e=>"continuous"===e.type||"categorical"===e.type))||[],Re=(null===Fe||void 0===Fe?void 0:Fe.filter(e=>"datetime"===e.type))||[],Ue=c["a"].useForm(),ze=m()(Ue,1),qe=ze[0];Object(d["useEffect"])(()=>{Object(N["g"])(n).then(e=>{if(0===e.code){var t=e.data.features;t.length<=0?Object(w["a"])("Features of  "+n+" is empty"):(t.forEach((e,t)=>{if(e.key=t,"continuous"===e.type)e.hData=[],e.extension.bins.map(t=>{e.hData.push({value:[t.begin,t.end],count:t.value})});else if("datetime"===e.type){var a=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"];e.barHourData=[];var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.barMonthData=[];var n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];e.barWeekData=[],e.barYearData=[],e.extension.by_hour.forEach((t,r)=>{e.barHourData.push({time:a[r],value:t})}),e.extension.by_month.forEach((t,a)=>{e.barMonthData.push({time:r[a],value:t})}),e.extension.by_week.forEach((t,a)=>{e.barWeekData.push({time:n[a],value:t})}),e.extension.by_year.forEach((t,a)=>{e.barYearData.push({time:String(t["year"]),value:t["value"]})})}}),Pe(t),Object(N["k"])(n,X).then(e=>{if(0===e.code){var a=e.data;Z(a.conf.label_col),ee(a.conf.pos_label),ce(a.conf.train_mode),V(a.conf.engine),f(a.conf.partition_strategy),D[0].count=80,D[1].count=10,D[2].count=10,De(D),t.forEach(e=>{e.name===a.conf.label_col&&(R(e.extension.value_count),"continuous"===e.type?L(e.hData):"categorical"===e.type&&L(e.extension.value_count),B(e.type))}),Object(N["p"])(n,a.conf.label_col).then(e=>{var t=e.data;ne(t.task_type)})}else Object(w["a"])("Response is: "+JSON.stringify(e))}))}else Object(w["a"])("Response is: "+JSON.stringify(e))})},[n,X,t]);var Be=e=>{Me(!1),Z(e)},We=e=>{ce(e.target.value)},Je=e=>{f(e.target.value)},Ke=e=>{_e(e)},Ve=e=>{isNaN(e)||ue(e)},Ye=e=>{isNaN(e)||fe(e)},He=u.a.createElement(u.a.Fragment,null,u.a.createElement(l["a"].Group,{onChange:e=>Je(e),value:h,style:{marginTop:12}},u.a.createElement(l["a"],{value:"train_validation_holdout"},Object(O["formatMessage"])({id:"extra.testAndTrain"})))),Xe=()=>{return"cross_validation"===h?u.a.createElement(u.a.Fragment,null,u.a.createElement("dl",null,u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.divisionNum"}))),u.a.createElement(g["a"],null,u.a.createElement(v["a"],{span:12},u.a.createElement(_["a"],{min:2,max:50,onChange:Ve,value:"number"===typeof de?de:0,step:1,tooltipVisible:!1})),u.a.createElement(v["a"],{span:4},u.a.createElement(E["a"],{min:2,max:50,style:{margin:"0 16px"},step:1,value:de,onChange:Ve}))),u.a.createElement("dl",null,u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.testUnionPercentage"}))),u.a.createElement(g["a"],null,u.a.createElement(v["a"],{span:12},u.a.createElement(_["a"],{min:10,max:80,onChange:Ye,value:"number"===typeof he?he:0,step:1,tooltipVisible:!1})),u.a.createElement(v["a"],{span:4},u.a.createElement(E["a"],{min:10,max:80,style:{margin:"0 16px"},step:1,value:he,formatter:e=>"".concat(e,"%"),onChange:Ye}))),u.a.createElement(g["a"],null,u.a.createElement(v["a"],{span:18},u.a.createElement("div",{className:k.a.barWrapper},u.a.createElement("div",{className:k.a.cvdata,style:{width:"".concat(100-he,"%"),overflow:"hidden"}},Array.apply(null,{length:de}).map((e,t)=>{return u.a.createElement("span",{style:{flex:1,backgroundColor:"#0090DC",borderRight:"1px solid #fff"}})})),u.a.createElement("div",{className:k.a.testdata,style:{flex:1,width:"".concat(he,"%"),backgroundColor:"#E73B40"}})),u.a.createElement("div",{className:k.a.legend},u.a.createElement("div",{className:k.a.number},u.a.createElement("span",{className:k.a.cvdataCir}),u.a.createElement("span",{className:k.a.symbol},Object(O["formatMessage"])({id:"train.cvdata"}))),u.a.createElement("div",{className:k.a.type},u.a.createElement("span",{className:k.a.testCir}),u.a.createElement("span",{className:k.a.symbol},Object(O["formatMessage"])({id:"train.testUnion"}))))))):u.a.createElement("div",{style:{width:800}},u.a.createElement(j["b"],{dataRef:o,sliderData:Ce}))},Ze=e=>{Ne(!1),ee(e)},Ge=()=>{var e=o.current.getData(),t={label_col:X,pos_label:$,train_mode:se,experiment_engine:K,holdout_percentage:e[2].count,datetime_series_col:ve};"cross_validation"===h?(t["partition_strategy"]="cross_validation",t["cross_validation"]={n_folds:he}):"train_validation_holdout"===h&&(t["partition_strategy"]="train_validation_holdout",t["train_validation_holdout"]={train_percentage:e[0].count,validation_percentage:e[1].count});var r={datasetName:n,param:t};r["param"].hasOwnProperty("label_col")&&void 0===r["param"]["label_col"]?Me(!0):r["param"].hasOwnProperty("pos_label")&&""===r["param"]["pos_label"]?Ne(!0):a({type:"train/train",payload:r})},Qe=()=>{return Re&&0===Re.length?Object(O["formatMessage"])({id:"train.datetimeColSelectorNoItem"}):Object(O["formatMessage"])({id:"train.select"})},$e={multi_classification:"train.taskMultiClassification",binary_classification:"train.taskBinaryClassification",regression:"train.taskRegression"},et=$e[re],tt=e=>{return u.a.createElement("span",{style:{color:"#c4c4c4",marginLeft:2}},e)};return u.a.createElement(c["a"],{form:qe},u.a.createElement("div",{className:k.a.basic},u.a.createElement("dl",{className:k.a.tag},u.a.createElement("dt",null,u.a.createElement("span",null,Object(O["formatMessage"])({id:"train.tagCol"}))),u.a.createElement("dd",null,u.a.createElement("div",null,tt(Object(O["formatMessage"])({id:"train.hintTarget"}))),u.a.createElement("span",null,u.a.createElement(y["a"],{value:X,placeholder:Object(O["formatMessage"])({id:"train.select"}),style:{width:300,marginBottom:20},onChange:Be},Ae&&Ae.map(e=>{return u.a.createElement(C,{value:e.name},e.name)}))),u.a.createElement(i["a"],{type:"primary",style:{marginLeft:10},onClick:Ge},Object(O["formatMessage"])({id:"train.train"}))),je?u.a.createElement("div",{className:k.a.labelTip,style:{marginTop:-20}},Object(O["formatMessage"])({id:"train.labelNotEmpty"})):null),u.a.createElement("dl",null,0!==re.length&&u.a.createElement(u.a.Fragment,null,u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.taskType"}),Object(T["g"])("train.hintTaskType")),u.a.createElement("dd",null,u.a.createElement("span",{style:{color:"#c4c4c4",marginLeft:2}},"  ",Object(O["formatMessage"])({id:"train.hintInferTaskType"},{taskType:Object(O["formatMessage"])({id:et})}),"   ")))),u.a.createElement("dl",null,u.a.createElement(x,{labelType:q,labelData:I})),"binary_classification"===re&&u.a.createElement("dl",{className:k.a.binary},u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.normalSampleModal"}),Object(T["g"])("train.hintPositiveLabel")),u.a.createElement("dd",null,u.a.createElement(y["a"],{value:$,placeholder:Object(O["formatMessage"])({id:"train.select"}),style:{width:300},onChange:Ze},A&&A.map((e,t)=>{return u.a.createElement(C,{value:e.type,key:t},e.type)}))),ke?u.a.createElement("div",{className:k.a.labelTip},Object(O["formatMessage"])({id:"train.posNotEmpty"})):null),u.a.createElement("dl",{className:k.a.mode},u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.experimentEngine"}),Object(T["g"])("train.hintExperimentEngine")),u.a.createElement("dd",null,u.a.createElement(y["a"],{value:K,placeholder:Object(O["formatMessage"])({id:"train.select"}),style:{width:300},onChange:e=>{V(e)}},s.map(e=>{return u.a.createElement(C,{value:e,key:e},e)})))),u.a.createElement("dl",{className:k.a.mode},u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.trainMode"}),Object(T["g"])("train.hintTrainMode")),u.a.createElement("dd",null,u.a.createElement(l["a"].Group,{onChange:We,value:se},u.a.createElement(l["a"],{value:"quick"},Object(O["formatMessage"])({id:"train.quick"})),u.a.createElement(l["a"],{value:"performance"},Object(O["formatMessage"])({id:"train.performance"})),u.a.createElement(l["a"],{value:"minimal"},Object(O["formatMessage"])({id:"train.minimal"})))))),u.a.createElement("div",{className:k.a.advanced},u.a.createElement("dl",null,u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.dataAllot"}))),u.a.createElement(r["a"],{title:He,style:{width:"80%"}},u.a.createElement("div",null,Xe())),u.a.createElement("dl",null,u.a.createElement("dt",null,Object(O["formatMessage"])({id:"train.datetimeCol"}),Object(T["g"])("train.hintDatetimeSeriesFeature")),u.a.createElement("dd",null,u.a.createElement(y["a"],{placeholder:Qe(),style:{width:300},disabled:0===Re.length,onChange:Ke},Re&&Re.map((e,t)=>{return u.a.createElement(C,{value:e.name,key:t},e.name)}))))))},L=Object(b["o"])(Object(p["c"])(e=>{var t=e.dataset,a=e.train;return{dataset:t,train:a}})(I)),F=(a("g9YV"),a("wCAj")),P=(a("qVdP"),a("jsC+")),A=(a("5Dmo"),a("3S7+")),R=(a("T2oS"),a("W9HT")),U=(a("lUTK"),a("BvKs")),z=(a("Znn+"),a("ZTPi")),q=a("ye1Q"),B=a("bRQS"),W=a("4i/N"),J=(a("Mwp2"),a("VXEj")),K=a("EK1h"),V=a.n(K),Y=[{value:"explained_variance",name:"EVS"},{value:"neg_mean_absolute_error",name:"MAE"},{value:"neg_mean_squared_error",name:"MSE"},{value:"neg_mean_squared_log_error",name:"MSLE"},{value:"neg_median_absolute_error",name:"MedianAE"},{value:"r2",name:"R2"},{value:"accuracy",name:"Accuracy"},{value:"f1",name:"F1"},{value:"precision",name:"Precision"},{value:"recall",name:"Recall"},{value:"roc_auc",name:"AUC"},{value:"fbeta",name:"FBeta"},{value:"log_loss",name:"Log Loss"},{value:"rmse",name:"RMSE"},{value:"mse",name:"MSE"},{value:"mae",name:"MAE"},{value:"evs",name:"EVS"},{value:"msle",name:"MSLE"}],H=e=>{var t=e.modelName,a=e.location.query.datasetName,r=e.key,n=Object(d["useState"])({}),l=m()(n,2),i=l[0],s=l[1],c=Object(d["useState"])({}),o=m()(c,2),p=o[0],b=o[1],h=Object(d["useState"])({}),f=m()(h,2),E=f[0],_=f[1],y=Object(d["useState"])(""),M=m()(y,2),x=M[0],S=M[1],k=Object(d["useState"])(!0),w=m()(k,2),C=w[0],D=w[1];Object(d["useEffect"])(()=>{var e={datasetName:a,modelName:t};Object(N["i"])(e).then(e=>{var t=e.data;t.performance&&(D(!1),s(t.performance.confusion_matrix),b(t.performance.metrics),_(t.performance.roc_curve),S(t.task_type))})},[a,t]);var I=[];if(E){var L=E.false_positive_rate,P=void 0===L?[]:L,A=E.true_positive_rate,R=void 0===A?[]:A,U=E.thresholds,z=void 0===U?[]:U;P.forEach(e=>{I.push({x:e})}),R.forEach((e,t)=>{I[t]["y"]=e}),z.forEach((e,t)=>{I[t]["z"]=e,I[t]["name"]="True positive rate"})}var q=[];Object.keys(p).forEach(e=>{q.push({name:e.toLowerCase(),score:p[e]})});var B=e=>{var t=Y.filter(t=>t.value===e);return t.length>0?t[0].name:e},W=e=>{if(i){var t=i.label,a=void 0===t?{}:t;return u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("span",null,"yes"===e?a.true:a.false))}},K=e=>{if(i){var t=i.label,a=void 0===t?{}:t;return u.a.createElement("span",null,"yes"===e?a.true:a.false)}},H=(e,t)=>{return"success"===e?u.a.createElement("span",{style:{color:"#13c2c2"}},t):u.a.createElement("span",{style:{color:"#f5222d"}},t)},X={precision:"Precision",recall:"Recall",f1:"F1",accuracy:"Accuracy",roc_auc:"AUC"},Z=e=>{return["accuracy","f1","recall","precision","roc_auc"].map((t,a)=>({y:X[t],x:e[t]?e[t]:0}))},G=Z(p),Q=[{title:"",children:[{title:Object(O["formatMessage"])({id:"center.actual"}),dataIndex:"actual",key:"actual",align:"center"}]},{title:Object(O["formatMessage"])({id:"center.evaluate.predict"}),children:[{title:W("yes"),dataIndex:"predicted_yes",align:"center"},{title:W("no"),dataIndex:"predicted_no",align:"center"},{title:"Total",dataIndex:"total",align:"center"}]}],$=[];return i&&($=[{id:"index",actual:K("yes"),predicted_yes:H("success",i.tp),predicted_no:H("failed",i.fn),total:i.tp+i.fn},{id:"index1",actual:K("no"),predicted_yes:H("failed",i.fp),predicted_no:H("success",i.tn),total:i.fp+i.tn},{id:"index2",actual:"Total",predicted_yes:i.tp+i.fp,predicted_no:i.fn+i.tn,total:i.tp+i.fn+i.fp+i.tn}]),u.a.createElement(u.a.Fragment,null,C?u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(O["formatMessage"])({id:"center.training"})):u.a.createElement(g["a"],{key:r},"binary_classification"===x&&u.a.createElement(v["a"],{span:24},u.a.createElement("h3",null,Object(T["e"])("center.mix","center.hintConfusionMatrix")),u.a.createElement(F["a"],{columns:Q,dataSource:$,size:"small",bordered:!0,pagination:!1,rowKey:e=>e.actual})),u.a.createElement("h3",{style:{marginTop:20}},Object(O["formatMessage"])({id:"center.modalEvaluate"})),"regression"!==x?u.a.createElement(v["a"],{span:24,style:{marginTop:10}},u.a.createElement(j["e"],{data:G})):null,u.a.createElement(v["a"],{span:24},q.length>0&&u.a.createElement("div",{className:V.a.box},u.a.createElement(J["b"],{dataSource:q,renderItem:(e,t)=>u.a.createElement(J["b"].Item,null,u.a.createElement(J["b"].Item.Meta,{style:{float:"left"},title:B(e.name)}),u.a.createElement("div",{style:{float:"right"}}," ",e.score&&e.score.toFixed(4)))}))),"binary_classification"===x&&u.a.createElement(v["a"],{span:24},u.a.createElement("h3",{style:{marginTop:20}},Object(O["formatMessage"])({id:"center.roc"})),u.a.createElement("div",{style:{width:1e3}},u.a.createElement(j["c"],{data:I,height:500})))))},X=Object(b["o"])(Object(p["c"])(e=>{var t=e.center;return{center:t}})(H)),Z=(a("miYZ"),a("tsqr")),G=(a("FJo9"),a("L41K")),Q=(a("DZo9"),a("8z0m")),$=a("LtfV"),ee=a("7/+/"),te=Q["a"].Dragger,ae=G["a"].Step,re=e=>{Object(w["a"])("Unseen step status "+(null===e||void 0===e?void 0:e.status)+" of "+(null===e||void 0===e?void 0:e.type))},ne=e=>{e.indexParam;var t,a=e.modelName,r=e.taskStatus,n=e.location.query.datasetName,l=Object(d["useState"])(null),i=m()(l,2),s=i[0],c=i[1],o=Object(d["useState"])("-"),p=m()(o,2),b=p[0],h=p[1],f=Object(d["useState"])("-"),E=m()(f,2),_=E[0],y=E[1],j=Object(d["useState"])("-"),M=m()(j,2),x=M[0],S=M[1],k=Object(d["useState"])("-"),C=m()(k,2),D=C[0],I=C[1],L=Object(d["useState"])("-"),F=m()(L,2),P=F[0],A=F[1],R=Object(d["useState"])(""),U=m()(R,2),z=U[0],q=U[1],B=Object(d["useState"])(-1),W=m()(B,2),J=W[0],K=W[1],V=()=>{null!==t&&(clearInterval(t),t=null)},Y=(e,t,a)=>{Object(N["j"])(e,t,a).then(e=>{if(null!==e&&void 0!==e)if(0===e.code){var t=e.data.steps;if(null!==t&&void 0!==t){var a=Object(T["d"])(t),r=a[ee["PredictStepType"].Upload];null!==r&&void 0!==r&&(K(0),r.status===ee["StepStatus"].Succeed?h(Object(O["formatMessage"])({id:"center.batchPredict.processTip.upload"},{fileSize:Object(T["b"])(r.extension.file_size),took:r.took.toFixed(2)})):r.status===ee["StepStatus"].Failed?X(h):re(r));var n=a[ee["PredictStepType"].Load];null!==n&&void 0!==n&&(K(1),n.status===ee["StepStatus"].Succeed?y(Object(O["formatMessage"])({id:"center.batchPredict.processTip.loadData"},{nRows:n.extension.n_rows,nCols:n.extension.n_cols,took:n.took.toFixed(2)})):n.status===ee["StepStatus"].Failed?X(y):re(r));var l=a[ee["PredictStepType"].LoadModel];null!==l&&void 0!==l&&(K(2),l.status===ee["StepStatus"].Succeed?S(Object(O["formatMessage"])({id:"center.batchPredict.processTip.loadModel"},{modelSize:Object(T["b"])(l.extension.model_size),took:l.took.toFixed(2)})):l.status===ee["StepStatus"].Failed?X(S):re(l));var i=a[ee["PredictStepType"].Evaluate];null!==i&&void 0!==i&&(K(3),i.status===ee["StepStatus"].Succeed?I(Object(O["formatMessage"])({id:"center.batchPredict.processTip.evaluate"},{took:i.took.toFixed(2)})):i.status===ee["StepStatus"].Failed?X(I):re(i));var s=a[ee["PredictStepType"].WriteResult];null!==s&&void 0!==s&&(V(),K(4),s.status===ee["StepStatus"].Succeed?(A(u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,u.a.createElement("a",{download:!0,href:"/api/resource/".concat(s.extension.output_path,"?opt=download")},Object(O["formatMessage"])({id:"center.batchPredict.processTip.writeResult"}))))),q("finish")):s.status===ee["StepStatus"].Failed?X(A):re(s))}else Object(w["a"])("Response steps from server of prediction is null yet code is 0 "),V()}else V();else Object(w["a"])("Response from server of prediction is null"),V()})},H=(e,a,r,n)=>{console.error("\u5f00\u542f\u5b9a\u65f6\u5668: 11111"),console.error("2\u5f00\u542f\u5b9a\u65f6\u5668: "+t);var l={file_path:r,upload_took:n};Object(N["a"])(e,a,l).then(r=>{var n=r.data;Y(e,a,n.batch_predict_job_name),null!==t&&V(),t=setInterval(()=>{console.error("1\u5f00\u542f\u5b9a\u65f6\u5668: "+t),Y(e,a,n.batch_predict_job_name)},1e3),console.error("\u5f00\u542f\u5b9a\u65f6\u5668: "+t)})},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Failed";e(t),q("error"),V()},Q={name:"file",multiple:!1,accept:".csv, .tsv",headers:{"File-Name":s},action:"/api/resource",beforeUpload:e=>{if(e.size>128e6)return Z["b"].warning(Object(O["formatMessage"])({id:"center.big"})),!1;c(e.name)},showUploadList:!1,onChange(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(K(0),H(n,a,e.file.response.data.path,e.file.response.data.took)):"error"===t&&(Z["b"].error("".concat(e.file.name," ").concat(Object(O["formatMessage"])({id:"center.failUpload"}))),q("error"))}},ne=u.a.createElement(g["a"],null,u.a.createElement(v["a"],{span:24},u.a.createElement(te,Q,u.a.createElement("p",{className:"ant-upload-drag-icon"},u.a.createElement($["a"],null)),u.a.createElement("p",{className:"ant-upload-text"},Object(O["formatMessage"])({id:"center.uploadBox"})),u.a.createElement("p",{className:"ant-upload-hint"},Object(O["formatMessage"])({id:"center.uploadtips"})))),u.a.createElement(v["a"],{span:24,style:{marginTop:24}},u.a.createElement(G["a"],{current:J,status:z},u.a.createElement(ae,{title:Object(O["formatMessage"])({id:"center.uploadData"}),description:b}),u.a.createElement(ae,{title:Object(O["formatMessage"])({id:"center.loadData"}),description:_}),u.a.createElement(ae,{title:Object(O["formatMessage"])({id:"center.read"}),description:x}),u.a.createElement(ae,{title:Object(O["formatMessage"])({id:"center.predictData"}),description:D}),u.a.createElement(ae,{title:Object(O["formatMessage"])({id:"center.result"}),description:P})))),le=u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(O["formatMessage"])({id:"center.training"}));return"running"===r?le:ne},le=Object(b["o"])(Object(p["c"])(e=>{var t=e.center;return{center:t}})(ne)),ie=a("p0pE"),se=a.n(ie),ce=(a("R9oj"),a("ECub")),oe=a("Y/ft"),me=a.n(oe),de=a("MT78"),ue=a.n(de),pe=(a("XOKv"),a("17x9"),a("iLNv")),be=a("zHMj"),he=a("bYtY"),fe=(e,t)=>{var a={};return t.forEach(t=>{a[t]=e[t]}),a};class ge extends d["Component"]{constructor(e){super(e),this.getEchartsInstance=(()=>this.echartsLib.getInstanceByDom(this.echartsElement)||this.echartsLib.init(this.echartsElement,this.props.theme,this.props.opts)),this.renderEchartDom=(()=>{var e=this.getEchartsInstance();return e.setOption(this.props.option,this.props.notMerge||!1,this.props.lazyUpdate||!1),window.addEventListener("resize",()=>{e&&e.resize()}),this.props.showLoading?e.showLoading(this.props.loadingOption||null):e.hideLoading(),e}),this.dispose=(()=>{if(this.echartsElement){try{Object(pe["clear"])(this.echartsElement)}catch(e){console.warn(e)}this.echartsLib.dispose(this.echartsElement)}}),this.rerender=(()=>{var e=this.props,t=e.onEvents,a=e.onChartReady,r=this.renderEchartDom();this.bindEvents(r,t||{}),"function"===typeof a&&this.props.onChartReady(r),this.echartsElement&&Object(he["bind"])(this.echartsElement,()=>{try{r&&r.resize()}catch(e){console.warn(e)}})}),this.bindEvents=((e,t)=>{var a=(t,a)=>{"string"===typeof t&&"function"===typeof a&&e.on(t,t=>{a(t,e)})};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a(r,t[r])}),this.echartsLib=ue.a,this.echartsElement=null}componentDidMount(){this.renderEchartDom()}componentDidUpdate(e){if(!Object(be["a"])(e.theme,this.props.theme)||!Object(be["a"])(e.opts,this.props.opts)||!Object(be["a"])(e.onEvents,this.props.onEvents))return this.dispose(),void this.rerender();var t=["option","notMerge","lazyUpdate","showLoading","loadingOption"];if(Object(be["a"])(fe(this.props,t),fe(e,t))&&("function"!==typeof this.props.shouldSetOption||this.props.shouldSetOption(e,this.props))){var a=this.renderEchartDom();if(!Object(be["a"])(e.style,this.props.style)||!Object(be["a"])(e.className,this.props.className))try{a&&a.resize()}catch(e){console.warn(e)}}}componentWillUnmount(){this.dispose()}render(){var e=this.props,t=e.style,a=e.className,r=se()({height:300},t);return u.a.createElement("div",{ref:e=>{this.echartsElement=e},style:r,className:a})}}ge.defaultProps={style:{},className:"",notMerge:!1,lazyUpdate:!1,showLoading:!1,loadingOption:null,theme:null,onChartReady:()=>{},onEvents:{},opts:{},shouldSetOption:()=>!0};var Ee=ge;function ve(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_e(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,l=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw l}}}}function _e(e,t){if(e){if("string"===typeof e)return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}class Oe extends d["PureComponent"]{constructor(){super(...arguments),this.getOption=((e,t)=>{return{parallelAxis:[],series:[{type:"parallel",lineStyle:{width:2},data:[]}],visualMap:{min:e,max:t,left:0,precision:4,calculable:!0,orient:"vertical",bottom:"15%",hoverLink:!0}}})}render(){var e=this.props,t=(e.style,e.className,e.data);e.xAxisProp,e.seriesData,e.loading,me()(e,["style","className","data","xAxisProp","seriesData","loading"]);if(!t||!t.hasOwnProperty("data"))return u.a.createElement(ce["a"],null);var a,r=[],n=ve(t.data);try{for(n.s();!(a=n.n()).done;){var l=a.value;r.push(l.reward)}}catch(e){n.e(e)}finally{n.f()}var i=this.getOption(Math.min(...r),Math.max(...r));return t.param_names.forEach((e,t)=>{i.parallelAxis.push({dim:t,name:e})}),t.data.forEach((e,a)=>{i["series"]["data"]=new Array(t.param_names.length),i["series"][0]["data"][a]=e.params}),u.a.createElement(Ee,{option:se()({},i)})}}var je,Me=Oe,xe=e=>{var t=e.modelName,a=e.location.query.datasetName,r=Object(d["useState"])({}),n=m()(r,2),l=n[0],i=n[1],s=Object(d["useState"])(!0),c=m()(s,2),o=c[0],p=c[1];return Object(d["useEffect"])(()=>{var e={datasetName:a,modelName:t};Object(N["i"])(e).then(e=>{var t=e.data;t.trials&&(p(!1),i(t.trials))})},[a,t]),u.a.createElement("div",null,o?u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(O["formatMessage"])({id:"center.training"})):u.a.createElement(Me,{data:l}))},Se=Object(b["o"])(xe),ke=z["a"].TabPane,Ne=u.a.createElement(q["a"],{style:{fontSize:16},spin:!0});class Te extends u.a.Component{constructor(e){super(e),this.batchPredictStepType={upload:"upload",load:"load",load_model:"load_model"},this.metricDisplayMapping={auc:"AUC",accuracy:"Accuracy",rmse:"RMSE"},this.formatTrainMode={[ee["TrainMode"].Quick]:Object(O["formatMessage"])({id:"train.quick"}),[ee["TrainMode"].Performance]:Object(O["formatMessage"])({id:"train.performance"}),[ee["TrainMode"].Minimal]:Object(O["formatMessage"])({id:"train.minimal"})},this.viewLog=(e=>{window.open("/api/resource/".concat(e,"?opt=head&n=1000"))}),this.viewSourceCode=(e=>{window.open("/api/resource/".concat(e,"?opt=head&n=-1"))}),this.viewNotebook=(e=>{window.open("".concat(this.state.notebookPortal,"/notebooks/").concat(e))}),this.localTrainMode=(e=>{return"minimal"===e?Object(O["formatMessage"])({id:"train.minimal"}):"quick"===e?Object(O["formatMessage"])({id:"train.quick"}):"performance"===e?Object(O["formatMessage"])({id:"train.performance"}):void 0}),this.getOptionMenu=(e=>{return u.a.createElement(U["a"],null,u.a.createElement(U["a"].Item,null,u.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{this.viewLog(e.log_file_path)}},Object(O["formatMessage"])({id:"center.log"}))),u.a.createElement(U["a"].Item,null,u.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{this.viewSourceCode(e.train_source_code_path)}},Object(O["formatMessage"])({id:"center.source"}))),u.a.createElement(U["a"].Item,null,u.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{this.viewNotebook(e.train_notebook_uri)}},Object(O["formatMessage"])({id:"center.titleNotebook"}))))}),this.columns=[{title:"",dataIndex:"status",key:"status",render:(e,t)=>{return"running"===t.status?u.a.createElement(R["a"],{indicator:Ne}):"succeed"===t.status?u.a.createElement(B["a"],{style:{fontSize:16,color:"green"}}):"failed"===t.status?u.a.createElement(W["a"],{style:{fontSize:16,color:"red"}}):void 0}},{title:Object(O["formatMessage"])({id:"center.modal"}),dataIndex:"no_experiment",key:"no_experiment"},{title:Object(O["formatMessage"])({id:"center.titleEngine"}),dataIndex:"engine",key:"engine"},{title:Object(O["formatMessage"])({id:"train.trainMode"}),dataIndex:"train_mode",key:"train_mode",render:e=>{return this.formatTrainMode[e]}},{title:u.a.createElement(u.a.Fragment,null,Object(O["formatMessage"])({id:"center.target"}),Object(T["g"])("center.hintOptimizeMetric")," "),dataIndex:"score",key:"score",render:(e,t,a)=>{var r=t.score;return r?u.a.createElement(A["a"],{placement:"right",color:"white",title:Object(O["formatMessage"])({id:"center.hintTargetCol"},{targetCol:t.target_col})},u.a.createElement("span",null,r.toFixed(6),"(",this.metricDisplayMapping[t.metric_name],")")):u.a.createElement("span",null,"-")}},{title:Object(T["e"])("center.process","center.hintProgress"),dataIndex:"max_train_trial_no",key:"max_train_trial_no",render:(e,t,a)=>{var r="".concat(t.train_trial_no,"/").concat(t.max_train_trial_no);return"succeed"===t.status&&t.train_trial_no!==t.max_train_trial_no?Object(T["f"])(u.a.createElement("span",{style:{color:"orange"}},r),Object(O["formatMessage"])({id:"center.hintEarlyStopping"})):u.a.createElement("span",null,r)}},{title:Object(T["e"])("center.remain","center.hintRemainingTime"),dataIndex:"estimated_remaining_time",key:"estimated_remaining_time",render:e=>{if(0===e)return u.a.createElement("span",null,Object(O["formatMessage"])({id:"center.finished"}));if(e){var t=e>3600?{color:"red"}:{};return u.a.createElement("span",{style:t},Object(T["c"])(e))}return u.a.createElement("span",null,"-")}},{title:Object(T["e"])("center.spend","center.hintElapsed"),dataIndex:"escaped",key:"escaped",render:e=>{var t=e>3600?{color:"red"}:{};return u.a.createElement("span",{style:t},Object(T["c"])(e))}},{title:Object(T["e"])("center.size","center.hintModelSize"),dataIndex:"model_file_size",key:"model_file_size",render:e=>{return e?u.a.createElement("span",null,Object(T["b"])(e)):u.a.createElement("span",null,"-")}},{title:Object(T["e"])("center.titleResource","center.hintResource"),dataIndex:"train_notebook_uri",align:"center",key:"train_notebook_uri",render:(e,t,a)=>{return u.a.createElement(P["a"],{overlay:this.getOptionMenu(t),placement:"bottomCenter"},u.a.createElement("a",null,"..."))}}],this.loadMoreContent=(()=>u.a.createElement("div",{style:{textAlign:"center",paddingTop:40,paddingBottom:40,border:"1px solid #e8e8e8"}},u.a.createElement(R["a"],{tip:"Loading..."}))),this.state={listData:[],notebookPortal:""},this.datasetName=this.props.location.query.datasetName}handleFetchList(){var e=this.datasetName;Object(N["o"])(e).then(e=>{var t=e.data;this.setState({listData:t.experiments.map(e=>{return e.key=e.no_experiment,e}),notebookPortal:t.notebook_portal});var a=t.experiments.map(e=>e.status);a.includes("running")||(clearInterval(je),je=null)})}componentDidMount(){null!==je&&void 0!==je&&clearInterval(je),this.handleFetchList(),je=setInterval(this.handleFetchList.bind(this),ee["REFRESH_EXPERIMENT_LIST_TIMEOUT"])}componentWillUnmount(){null!=this.timer&&clearInterval(this.timer)}render(){return u.a.createElement("div",null,u.a.createElement(F["a"],{dataSource:this.state.listData,columns:this.columns,pagination:!1,expandable:{expandedRowRender:e=>{return"succeed"===e.status||"running"===e.status?u.a.createElement(z["a"],{onChange:e=>console.log(e),type:"card"},u.a.createElement(ke,{tab:Object(O["formatMessage"])({id:"center.evaluate"}),key:"1"},u.a.createElement(X,{modelName:e.name,key:e.key})),u.a.createElement(ke,{tab:Object(O["formatMessage"])({id:"center.predict"}),key:"2"},u.a.createElement(le,{modelName:e.name,taskStatus:e.status})),u.a.createElement(ke,{tab:Object(O["formatMessage"])({id:"center.param"}),key:"3"},u.a.createElement(Se,{modelName:e.name}))):"failed"===e.status?u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(O["formatMessage"])({id:"center.fail"}),u.a.createElement("a",{onClick:()=>{this.viewLog(e.log_file_path)},target:"_blank"},Object(O["formatMessage"])({id:"center.bug"}))):void 0}}}))}}var we=Object(b["o"])(Object(p["c"])(e=>{var t=e.train;return{train:t}})(Te)),Ce=e=>{var t=e.dispatch,a=e.location.query.datasetName,o=e.train.defaultTab,p={a:u.a.createElement(h["default"],{datasetName:a}),b:u.a.createElement(f["default"],{datasetNameFromParam:a,isTemporary:!1}),c:u.a.createElement(L,null),d:u.a.createElement(we,null)},b=c["a"].useForm(),g=m()(b,1),E=g[0];Object(d["useEffect"])(()=>{var e=localStorage.getItem("tab")||o;t({type:"train/save",payload:{defaultTab:e}})},[]);var v=u.a.createElement(u.a.Fragment,null,u.a.createElement(c["a"].Item,{style:{float:"left",marginRight:10,marginTop:20,visibility:"hidden"},name:"datasetName",label:"\u6570\u636e\u96c6\u540d\u79f0"},u.a.createElement(s["a"],null)),u.a.createElement(i["a"],{style:{float:"right",marginTop:20,visibility:"hidden"},type:"primary"},"\u521b\u5efa")),_=e=>{localStorage.setItem("tab",e.target.value),t({type:"train/save",payload:{defaultTab:e.target.value}})},y=u.a.createElement(l["a"].Group,{onChange:_,value:o},u.a.createElement(l["a"].Button,{value:"a"},Object(O["formatMessage"])({id:"extra.preview"})),u.a.createElement(l["a"].Button,{value:"b"},Object(O["formatMessage"])({id:"extra.dataExplore"})),u.a.createElement(l["a"].Button,{value:"c"},Object(O["formatMessage"])({id:"extra.train"})),u.a.createElement(l["a"].Button,{value:"d"},Object(O["formatMessage"])({id:"extra.center"})));return u.a.createElement(c["a"],{form:E,initialValues:{n_rows:1e3}},u.a.createElement("div",{className:k.a.breadcrumb},u.a.createElement(n["a"],null,u.a.createElement(n["a"].Item,null,u.a.createElement("a",{href:"/"},Object(O["formatMessage"])({id:"extra.dataset"}))),u.a.createElement(n["a"].Item,null,Object(O["formatMessage"])({id:"extra.explore"})),u.a.createElement(n["a"].Item,null,a))),u.a.createElement(r["a"],{title:y,extra:v},p[o]))};t["default"]=Object(b["o"])(Object(p["c"])(e=>{var t=e.dataset,a=e.train;return{dataset:t,train:a}})(Ce))}}]);