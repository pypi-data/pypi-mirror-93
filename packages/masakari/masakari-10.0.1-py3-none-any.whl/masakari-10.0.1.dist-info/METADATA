Metadata-Version: 2.1
Name: masakari
Version: 10.0.1
Summary: Virtual Machine High Availability (VMHA) service for OpenStack
Home-page: https://docs.openstack.org/masakari/latest/
Author: OpenStack
Author-email: openstack-discuss@lists.openstack.org
License: UNKNOWN
Platform: UNKNOWN
Classifier: Environment :: OpenStack
Classifier: Intended Audience :: Information Technology
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Requires-Dist: SQLAlchemy-Utils (>=0.33.10)
Requires-Dist: SQLAlchemy (>=1.2.19)
Requires-Dist: WebOb (>=1.7.1)
Requires-Dist: iso8601 (>=0.1.11)
Requires-Dist: jsonschema (>=3.2.0)
Requires-Dist: keystoneauth1 (>=3.4.0)
Requires-Dist: keystonemiddleware (>=4.17.0)
Requires-Dist: microversion-parse (>=0.2.1)
Requires-Dist: oslo.config (>=5.2.0)
Requires-Dist: oslo.context (>=2.19.2)
Requires-Dist: oslo.db (>=4.44.0)
Requires-Dist: oslo.i18n (>=3.15.3)
Requires-Dist: oslo.log (>=3.36.0)
Requires-Dist: oslo.messaging (>=5.29.0)
Requires-Dist: oslo.middleware (>=3.31.0)
Requires-Dist: oslo.policy (>=1.30.0)
Requires-Dist: oslo.service (!=1.28.1,>=1.24.0)
Requires-Dist: oslo.upgradecheck (>=0.1.0)
Requires-Dist: oslo.utils (>=3.33.0)
Requires-Dist: oslo.versionedobjects (>=1.31.2)
Requires-Dist: pbr (!=2.1.0,>=2.0.0)
Requires-Dist: python-novaclient (>=9.1.0)
Requires-Dist: stevedore (>=1.20.0)
Requires-Dist: taskflow (>=2.16.0)

========
Masakari
========

Virtual Machine High Availability (VMHA) service for OpenStack

Masakari provides Virtual Machine High Availability (VMHA) service
for OpenStack clouds by automatically recovering the KVM-based Virtual
Machine(VM)s from failure events such as VM process down,
provisioning process down, and nova-compute host failure.
It also provides API service for manage and control the automated
rescue mechanism.

NOTE:
Use masakari only if instance path is configured on shared storage system
i.e, 'instances_path' config option of nova has a path of shared directory
otherwise instance data will be lost after the evacuation of instance from
failed host if,
* instance is booted from image
* flavor using ephemeral disks is used

Original version of Masakari: https://github.com/ntt-sic/masakari

Tokyo Summit Session: https://www.youtube.com/watch?v=BmjNKceW_9A

Masakari is distributed under the terms of the Apache License,
Version 2.0. The full terms and conditions of this license are
detailed in the LICENSE file.

* Free software: Apache license 2.0
* Documentation: https://docs.openstack.org/masakari/latest
* Release notes: https://docs.openstack.org/releasenotes/masakari/
* Source: https://opendev.org/openstack/masakari
* Bugs: https://bugs.launchpad.net/masakari


Configure masakari-api
----------------------

#. Create masakari user:

   .. code-block:: shell-session

      openstack user create --password-prompt masakari
      (give password as masakari)

#. Add admin role to masakari user:

   .. code-block:: shell-session

      openstack role add --project service --user masakari admin

#. Create new service:

   .. code-block:: shell-session

      openstack service create --name masakari --description "masakari high availability" instance-ha

#. Create endpoint for masakari service:

   .. code-block:: shell-session

      openstack endpoint create --region RegionOne masakari --publicurl http://<ip-address>:<port>/v1/%\(tenant_id\)s --adminurl http://<ip-address>:<port>/v1/%\(tenant_id\)s --internalurl http://<ip-address>:<port>/v1/%\(tenant_id\)s

#. Clone masakari using

   .. code-block:: shell-session

      git clone https://github.com/openstack/masakari.git

#. Run setup.py from masakari

   .. code-block:: shell-session

      sudo python setup.py install

#. Create directory ``/etc/masakari``

#. Copy ``masakari.conf``, ``api-paste.ini`` and ``policy.json`` file
   from ``masakari/etc/`` to ``/etc/masakari`` folder

#. To run masakari-api simply use following binary:

   .. code-block:: shell-session

      masakari-api

Configure masakari database
---------------------------

#. Create 'masakari' database

#. After running setup.py for masakari (``sudo python setup.py install``),
   run ``masakari-manage`` command to sync the database

   .. code-block:: shell-session

      masakari-manage db sync

Features
--------

* TODO



