

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using NETCONF RPCs &mdash; yangsuite-netconf 1.15.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working with NETCONF Notification Streams" href="notifications.html" />
    <link rel="prev" title="Using NETCONF with YANG Suite" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> yangsuite-netconf
          

          
          </a>

          
            
            
              <div class="version">
                1.15.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using NETCONF RPCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Working with NETCONF Notification Streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Using Replays for repeated workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="lock-unlock.html">Locking and unlocking datastores</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">yangsuite-netconf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using NETCONF RPCs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rpcs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-netconf-rpcs">
<h1>Using NETCONF RPCs<a class="headerlink" href="#using-netconf-rpcs" title="Permalink to this headline">¶</a></h1>
<p>After creating a YANG set to work with and exploring the contents,
it is now time to try creating NETCONF messages.
From the sidebar on any YANG Suite page, select
“Protocols → NETCONF” and choose the YANG set you have created.</p>
<img alt="Screenshot of dropdown menu displaying the sets available" src="_images/yangsetchoice.png" />
<p>After selecting the YANG set, select the “Module(s)” area, start typing in
the name or a portion of the name of the YANG file you wish to work from,
and pick one or more module(s).
Keep in mind, if the module you pick is just a supporting module for other
modules, there will probably be nothing to explore,
but we keep all the files on the list for completeness,
and some support modules do have explorable leaves.</p>
<img alt="Screenshot of dropdown menu displaying the YANG models available" src="_images/yangpick.png" />
<p>I’ll go ahead and choose “ietf-interfaces” and click on the “Load module(s)”
button.  After that, I expand the tree by clicking on the small triangle
next to “ietf-interfaces”, then “interfaces”.
Note that “interface”, as the only child of “interfaces”, automatically
expands as well.
I then right click on “interface” and a context menu appears.</p>
<img alt="Screenshot displaying properties menu of ietf-interfaces when right-clicked" src="_images/ietf-int.png" />
<p>Let’s look at the properties. We can see this is a “list” nodetype and it
is capable of edit-config, get-config, and get operations.
If you want to learn more about the different nodetypes, open the module in
“Operations → Explore YANG”.</p>
<img alt="Screenshot of dialog box displaying properties of ietf-interfaces" src="_images/ietf-int-prop.png" />
<p>Let’s look at an entry in the “interface” list.
As you can see, a list entry can contain many parameters.</p>
<p>Click in the Value column next to the leaf you want to set and you will get
a hint of what to enter or, in the case of an enum, boolean, or identityref,
you may get a pulldown menu of specific choices. In the example below,
“name” is a string (I typed in “GigabitEthernet2”), “description” is a string,
and “type” is an identityref pulldown menu.</p>
<p>Each icon and badge to the left of the name has a significant meaning. For
example, “name” is a leaf (leaf icon) that is the key to the list (key badge),
and “type” is a leaf that is mandatory (exclamation point badge).
The “Properties” dialog from the context menu can help explain differing icons,
which could be important to the forming of the netconf message.</p>
<img alt="Screenshot of dropdown menu displaying the available values for interface type" src="_images/value.png" />
<p>You may be wondering what the “Operation” column is about.
When the “edit-config” protocol operation is selected,
you can perform config operations on specific leaves.
By default, config operations are set to “merge” so you will probably not
have to set this, however, if you want to delete a value in the config, you
need to set “delete” in the proper location.</p>
<p>In this example, I want to delete the description of a particular interface,
which I accomplish by specifying the list key (“name” leaf), then setting
the “delete” operation next to the “description” leaf.</p>
<img alt="Screenshot of dropdown menu displaying the operations available for the selection" src="_images/config-mode.png" />
<p>Let’s try a “get-config”, so click on the “Clear Values” button for a fresh start
(there is also a context menu for the “Values” and “Operations” columns
to clear individual entries).</p>
<p>I will choose to get the entire interface list because it is so hard to remember
the correct “type” value out of the dozens offered.</p>
<p>Make sure that the device is selected (from the “Device” dropdown).
For this example, I have selected  my CSR1K device.
Now click on the “Build RPC” button and a dialog will appear prompting for any
additional information needed – here, the datastore to query.
I will choose the “running” datastore, corresponding to the running-config.
The datastores available to choose will depend on the device, and the contents
of this dialog (if any) will depend on the NETCONF operation you have selected.</p>
<img alt="Screenshot of dialog prompting for get-config parameters" src="_images/get-config-dialog.png" />
<p>Now click on the “Build RPC” button and the RPC will appear in the text window
below along with the module name and revision.</p>
<img alt="Screenshot showing the selected YangModel, various parameters such as the selected value, mode, datastore, and RPC window with the RPC textbox displaying the RPC" src="_images/get-config.png" />
<p>Now click on “Run RPC”. A dialog window will appear with the results.
The configuration of the device’s interfaces should be displayed
if everything worked.</p>
<img alt="Screenshot showing the dialog box with the reply RPC" src="_images/get-config-popup.png" />
<p>The get-config is always good to start with because it will give you an idea
of what the NETCONF server on the device is expecting
(such as an interface type of <code class="docutils literal notranslate"><span class="pre">ianaift:ethernetCsmacd</span></code> for your interfaces).</p>
<p>Now go ahead and start making changes!</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="notifications.html" class="btn btn-neutral float-right" title="Working with NETCONF Notification Streams" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Using NETCONF with YANG Suite" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2021, YANG Suite development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.15.3',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>