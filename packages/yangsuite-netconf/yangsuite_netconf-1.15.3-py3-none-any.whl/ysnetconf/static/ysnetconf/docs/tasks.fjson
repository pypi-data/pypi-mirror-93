{"parents": [], "prev": {"link": "../notifications/", "title": "Working with NETCONF Notification Streams"}, "next": {"link": "../lock-unlock/", "title": "Locking and unlocking datastores"}, "title": "Using Replays for repeated workflows", "meta": {}, "body": "<div class=\"section\" id=\"using-replays-for-repeated-workflows\">\n<h1>Using Replays for repeated workflows<a class=\"headerlink\" href=\"#using-replays-for-repeated-workflows\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>You can make use of the \u201cReplay\u201d functionality to save and run certain RPC\ncommands without having to go through the RPC construction process every time.</p>\n<p>First establish where you want your replays stored.  You may have some existing\nreplays already located on the file system that YANG Suite is installed on, or,\nmaybe you are working out of a source control workspace and you want these\nreplays shared with others and you plan on checking them in. The default\nlocation is in the \u201cdata\u201d directory that you first configured when you\ninstalled YANG Suite. If you need to change this, this can be done through the\nNETCONF \u201cOptions\u201d dialog.</p>\n<img alt=\"Screenshot showing the menu containing the Options item.\" src=\"../_images/menu-options.png\" />\n<p>Enter the location of\nthe directory you want to point to and click on the \u201cSet\u201d button. Click on\nthe \u201cReset\u201d button to move it back to the default location.</p>\n<img alt=\"Screenshot showing Replay Directory setting.\" src=\"../_images/replay-dir.png\" />\n<div class=\"section\" id=\"creating-replays\">\n<h2>Creating Replays<a class=\"headerlink\" href=\"#creating-replays\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>To create a replay, let us follow the same steps as in the \u201cUsing Netconf RPCs\u201d\ndocumentation. I will go ahead and load the \u201cietf-interfaces\u201d model,\nand change the datastore to \u201crunning\u201d and select the \u201cget-config\u201d.\nClick on the \u201cBuild RPC\u201d button to create the RPC you want to save as a replay.</p>\n<p>Next, I select \u201cSave as New Replay\u2026\u201d from the \u201cReplays\u201d menu, which opens\na dialog asking me to provide descriptive information for this replay.</p>\n<img alt=\"Screenshot showing the menu containing the Save As item.\" src=\"../_images/menu-save-as.png\" />\n<img alt=\"Screenshot showing a dialog box with the replay information to be saved\" src=\"../_images/create-task.png\" />\n<p>Once the replay is saved, you will get a confirmation pop-up.\nThe replay category and replay name dropdowns will also\nbe automatically populated with the replay that you created.</p>\n<img alt=\"Screenshot of pop up box confirming that the replay has been saved\" src=\"../_images/save-task.png\" />\n</div>\n<div class=\"section\" id=\"saving-replays-with-variables\">\n<h2>Saving Replays with Variables<a class=\"headerlink\" href=\"#saving-replays-with-variables\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>In order to make the replay more portable, you may want to define variables\nrather than fixed values for some leaves. A very common example is interface\nnames and numbers; for example, the test device you developed the replay on\nused the replay to configure interface GigabitEthernet2, but you want to be able\nto use this replay on another Cisco device which instead needs to configure\ninterface GigabitEthernet0/1/2. The solution here is variables! A variable\ncan be referenced by using the syntax <code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">variable_name</span> <span class=\"pre\">}}</span></code> anywhere in\nan RPC; here, you might want to use <code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">interface_1</span> <span class=\"pre\">}}</span></code> as your variable.</p>\n<img alt=\"Screenshot showing where to put {{ interface_1 }} in value field before saving\" src=\"../_images/var-value.png\" />\n<p>Go ahead and save this replay. Later, when you load the replay, you will be\nprompted to supply a value for this variable.</p>\n<p>Because variable values are often device-specific (again, such as interface\nidentifiers), you can save variable values to each device profile, either by\nusing the device \u201cEdit\u2026\u201d button in the main GUI, or by selecting\n\u201cSave Variables to Device\u201d from the \u201cLoad Replay\u201d dialog, as described below.</p>\n<img alt=\"Screenshot showing variable names and values defined in a device profile.\" src=\"../_images/add-var.png\" />\n</div>\n<div class=\"section\" id=\"loading-and-editing-saved-replays\">\n<h2>Loading and Editing Saved Replays<a class=\"headerlink\" href=\"#loading-and-editing-saved-replays\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>To see a saved replay later, select the \u201cLoad Replay\u201d menu item,\nselect the category and name from the dropdowns in the resulting dialog,\nthen click on \u201cShow Replay\u201d to see the saved RPCs loaded and displayed.</p>\n<img alt=\"Screenshot showing the menu containing the &quot;Load Replay&quot; item.\" src=\"../_images/menu-load-replay.png\" />\n<img alt=\"Screenshot showing the dialog that opens to select the desired replay.\" src=\"../_images/show-task.png\" />\n<p>Note that if this replay contains variables, this dialog will list the variables\ndefined in this replay and prompt you to input values for these variables. If\nyour selected device profile has defined values, they will be displayed here as\nthe default values for these variables. You can edit the values as needed, and\nuse the \u201cSave Variables to Device\u201d button to save them as the new\ndevice-specific default values.</p>\n<p>When done, click \u201cShow Replay\u201d button in order to load it into the UI. Note that\nthe tree-grid on the left side of the UI will still show the actual variable\nname, while the RPC XML on the right side will make use of the variable values.</p>\n<img alt=\"Screenshot showing that the UI has been populated with the replay contents.\" src=\"../_images/replay-loaded.png\" />\n<p>Once you have loaded a replay into the UI, you can use the\n\u201cEdit Replay Information\u2026\u201d menu item to change the properties of this replay\n(such as its description, list of devices tested, etc.).</p>\n<p>You can also click \u201cClear RPC(s)\u201d, build new RPCs using the usual interface,\nand then select the \u201cSave Changes\u201d menu item in order to update the\nexisting replay file with new RPC contents.</p>\n</div>\n<div class=\"section\" id=\"running-replays\">\n<h2>Running Replays<a class=\"headerlink\" href=\"#running-replays\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>After loading a saved replay, you can use \u201cRun RPC(s)\u201d as usual to run the\nreplay RPCs. Alternatively, as a shortcut, from the \u201cLoad Replay\u201d dialog,\nyou can click on \u201cRun Replay\u201d to run the replay directly without needing\nto load it into the UI.</p>\n<p>In either case you will see a pop-up window that displays the RPC communication and\nthe response from the device.</p>\n<img alt=\"Screenshot showing the new window where the RPC results are displayed\" src=\"../_images/run-task.png\" />\n<p>You can use the \u201cDelete Replay\u201d button to remove the replay from the list.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["lock-unlock", "Locking and unlocking datastores", "N", "next"], ["notifications", "Working with NETCONF Notification Streams", "P", "previous"]], "sourcename": "tasks.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Using Replays for repeated workflows</a><ul>\n<li><a class=\"reference internal\" href=\"#creating-replays\">Creating Replays</a></li>\n<li><a class=\"reference internal\" href=\"#saving-replays-with-variables\">Saving Replays with Variables</a></li>\n<li><a class=\"reference internal\" href=\"#loading-and-editing-saved-replays\">Loading and Editing Saved Replays</a></li>\n<li><a class=\"reference internal\" href=\"#running-replays\">Running Replays</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "tasks", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.12"}