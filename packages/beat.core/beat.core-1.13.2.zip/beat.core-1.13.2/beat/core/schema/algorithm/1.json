{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Algorithm v1 descriptor",
  "description": "This schema defines the properties of an algorithm",

  "oneOf": [
    { "$ref": "#/definitions/block" },
    { "$ref": "#/definitions/analyzer" }
  ],

  "definitions": {

    "block": {

      "type": "object",

      "properties": {
        "schema_version": { "$ref": "common.json#/definitions/schema_version" },
        "language": { "$ref": "../common/1.json#/definitions/language" },
        "description": { "$ref": "../common/1.json#/definitions/description" },
        "groups": { "$ref": "common.json#/definitions/block_groups" },
        "parameters": { "$ref": "common.json#/definitions/parameters" },
        "splittable": { "type": "boolean" },
        "uses": { "$ref": "../common/1.json#/definitions/uses" }
      },

      "required": [
        "language",
        "groups",
        "splittable"
      ],

      "additionalProperties": false

    },

    "analyzer": {

      "type": "object",

      "properties": {
        "schema_version": { "$ref": "common.json#/definitions/schema_version" },
        "language": { "$ref": "../common/1.json#/definitions/language" },
        "description": { "$ref": "../common/1.json#/definitions/description" },
        "groups": { "$ref": "common.json#/definitions/analyzer_groups" },
        "parameters": { "$ref": "common.json#/definitions/parameters" },
        "results": { "$ref": "common.json#/definitions/results" },
        "uses": { "$ref": "../common/1.json#/definitions/uses" }
      },

      "required": [
        "language",
        "groups",
        "results"
      ],

      "additionalProperties": false
    }

  }

}
