

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Additional functionality &mdash; WORC 3.3.5 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Radiomics Features" href="features.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> WORC
          

          
            
            <img src="../_static/WORC_Logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.3.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick start guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Radiomics Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Additional functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#image-preprocessing">Image Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#image-registration">Image Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#combat">ComBat</a></li>
<li class="toctree-l2"><a class="reference internal" href="#icc">ICC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-classifiers">Additional classifiers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="developerdocumentation.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_description.html">Resource File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../autogen/WORC.html">WORC Package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WORC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Additional functionality</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/static/additionalfunctionality.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="additional-functionality">
<h1>Additional functionality<a class="headerlink" href="#additional-functionality" title="Permalink to this headline">¶</a></h1>
<p>When using <code class="docutils literal notranslate"><span class="pre">SimpleWORC</span></code>, or WORC with similar simple configuration settings, you can
already benefit from the main functionality of WORC, i.e. the automatic algorithm
optimization. However, several additional functionalities are provided, which are discussed in
this chapter.</p>
<p>For a description of the radiomics features, please see
<span class="xref std std-ref">the radiomics features chapter</span>. For a description of
the data mining components, see
<span class="xref std std-ref">the data mining chapter</span>. All other components
are discussed here.</p>
<p>For a comprehensive overview of all functions and parameters, please look at
<a class="reference internal" href="configuration.html#config-chapter"><span class="std std-ref">the config chapter</span></a>.</p>
<div class="section" id="image-preprocessing">
<h2>Image Preprocessing<a class="headerlink" href="#image-preprocessing" title="Permalink to this headline">¶</a></h2>
<p>Preprocessing of the image, and accordingly the mask, is done in respectively
the <a class="reference internal" href="../autogen/WORC.processing.html#module-WORC.processing.preprocessing" title="WORC.processing.preprocessing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.processing.preprocessing</span></code></a> and the
<a class="reference internal" href="../autogen/WORC.processing.html#module-WORC.processing.segmentix" title="WORC.processing.segmentix"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.processing.segmentix</span></code></a> scripts. Options for preprocessing
the image include, in the following order:</p>
<ol class="arabic simple">
<li><p>N4 Bias field correction, see also <a class="reference external" href="https://simpleitk.readthedocs.io/en/master/link_N4BiasFieldCorrection_docs.html">https://simpleitk.readthedocs.io/en/master/link_N4BiasFieldCorrection_docs.html</a>.</p></li>
<li><p>Checking and optionally correcting the spacing if it’s 1x1x1 and the DICOM metadata says otherwise.</p></li>
<li><p>Clipping of the image intensities above and below a certain value.</p></li>
<li><p>Normalization, see <a class="reference internal" href="../autogen/WORC.processing.html#WORC.processing.preprocessing.normalize_image" title="WORC.processing.preprocessing.normalize_image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.processing.preprocessing.normalize_image</span></code></a> for all options.</p></li>
<li><p>Transposing the image to another ‘’main’’ orientation, e.g. axial.</p></li>
<li><p>Resampling the image to a different spacing.</p></li>
</ol>
<p>Options for preprocessing the segmentation include:</p>
<ol class="arabic simple">
<li><p>Hole filling. Many feature computations cannot deal with holes.</p></li>
<li><p>Removing small objects. Many feature computations cannot deal with multiple</p></li>
</ol>
<blockquote>
<div><p>objects in a single segmentation.</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Extracing the largest blob. Many feature computations cannot deal with</p></li>
</ol>
<blockquote>
<div><p>multiple objects in a single segmentation.</p>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Instead of using the full segmentation, extracting a ring around the border</p></li>
</ol>
<blockquote>
<div><p>of the image to compute the features on. Ring captures both the inner and
outer border.</p>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Dilating the contour.</p></li>
<li><p>Masking the contour with another contour.</p></li>
<li><p>When assuming the same image and metadata, copy the metadata of the image</p></li>
</ol>
<blockquote>
<div><p>to the segmentation.</p>
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Checking and optionally correcting the spacing if it’s 1x1x1 and the</p></li>
</ol>
<blockquote>
<div><p>DICOM metadata says otherwise. Same as image preprocessing step 2.</p>
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Transposing the segmentation to another ‘’main’’ orientation, e.g. axial.</p></li>
</ol>
<blockquote>
<div><p>Same as image preprocessing step 5.</p>
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Resampling the segmentation <strong>and the segmentation</strong> to a different spacing.</p></li>
</ol>
<blockquote>
<div><p>Same as image preprocessing step 10.</p>
</div></blockquote>
</div>
<div class="section" id="image-registration">
<h2>Image Registration<a class="headerlink" href="#image-registration" title="Permalink to this headline">¶</a></h2>
<p>Documentation WIP.</p>
</div>
<div class="section" id="combat">
<h2>ComBat<a class="headerlink" href="#combat" title="Permalink to this headline">¶</a></h2>
<p>ComBat feature harmonization is embedded in WORC. A wrapper, compatible with
the other tools provided by WORC, is included in the installation. We have included
wrapping around the Matlab and Python code (neurocombat) from the
original <a class="reference external" href="https://github.com/Jfortin1/ComBatHarmonization/">ComBat code</a>. We recommend
to use the Python code by default.</p>
<p>When using ComBat, the following configurations should be done:</p>
<ol class="arabic simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">config['General']['ComBat']</span></code> to <code class="docutils literal notranslate"><span class="pre">'True'</span></code>.</p></li>
<li><p>To change the ComBat parameters (i.e. which batch and moderation variable to use),
change the relevant config fields, see the <a class="reference internal" href="configuration.html#config-chapter"><span class="std std-ref">Config chapter</span></a>.</p></li>
<li><p>WORC extracts the batch and moderation variables from the label file which you also
use to give WORC the actual label you want to predict. The same format therefore applies, see
the <span class="xref std std-ref">User manual</span> for more details..</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In line with current literature, ComBat is applied once on the full dataset
straight after the feature extraction, thus before the actual hyperoptimization.
Hence, to avoid serious overfitting, we advice to <strong>NEVER</strong> use the variable
you are trying to predict as the moderation variable.</p>
</div>
</div>
<div class="section" id="icc">
<h2>ICC<a class="headerlink" href="#icc" title="Permalink to this headline">¶</a></h2>
<p>Documentation WIP.</p>
</div>
<div class="section" id="additional-classifiers">
<h2>Additional classifiers<a class="headerlink" href="#additional-classifiers" title="Permalink to this headline">¶</a></h2>
<p>When using the XGDBoost classifiers or regressors, install <code class="docutils literal notranslate"><span class="pre">xgdboost</span></code>,
which can be done using <code class="docutils literal notranslate"><span class="pre">pip</span></code>, see <a class="reference external" href="https://xgboost.readthedocs.io/en/latest/python/python_intro.html">https://xgboost.readthedocs.io/en/latest/python/python_intro.html</a>.
<code class="docutils literal notranslate"><span class="pre">WORC</span></code> makes use of the scikit-learn API.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="features.html" class="btn btn-neutral float-left" title="Radiomics Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 -- 2020, Biomedical Imaging Group Rotterdam, Departments of Medical Informatics and Radiology, Erasmus MC, Rotterdam, The Netherlands

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>