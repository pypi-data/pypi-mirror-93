(self.webpackChunk_deathbeds_ipydrawio=self.webpackChunk_deathbeds_ipydrawio||[]).push([[908],{599:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(609),i=a.n(n)()((function(e){return e[1]}));i.push([e.id,".jp-Diagram {\n  background-color: var(--jp-layout-color1);\n}\n\n.jp-Diagram .jp-IFrame {\n  opacity: 0;\n}\n\n.jp-Diagram.jp-Diagram-ready .jp-IFrame {\n  opacity: 1;\n  transition: opacity 0.2s;\n}\n\n.jp-Diagram .jp-Toolbar:empty {\n  height: 0 !important;\n  max-height: 0;\n  min-height: 0;\n  display: none;\n}\n\n.jp-DiagramMedia {\n  min-height: 300px;\n}\n",""]);const o=i},609:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=e(t);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);n&&i[l[0]]||(a&&(l[2]?l[2]="".concat(a," and ").concat(l[2]):l[2]=a),t.push(l))}},t}},689:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 161.6 161.6" version="1.1">\n  <g class="jp-icon-warn0 jp-icon-selectable" fill="#f08705">\n    <path d="m 161.6,154.7 c 0,3.9 -3.2,6.9 -6.9,6.9 H 6.9 C 3,161.6 0,158.4 0,154.7 V 6.9 C 0,3 3.2,0 6.9,0 h 147.8 c 3.9,0 6.9,3.2 6.9,6.9 z" />\n  </g>\n  <g class="jp-icon-selectable" fill="rgba(0,0,0,0.1)">\n    <path d="m 161.6,154.7 c 0,3.9 -3.2,6.9 -6.9,6.9 H 55.3 l -32.2,-32.7 20,-32.7 59.4,-73.8 58.9,60.7 z"/>\n  </g>\n  <g class="jp-icon-accent0 jp-icon-selectable-inverse" fill="#ffffff">\n    <path d="m 132.7,90.3 h -17 l -18,-30.6 c 4,-0.8 7,-4.4 7,-8.6 V 28 c 0,-4.9 -3.9,-8.8 -8.8,-8.8 h -30 c -4.9,0 -8.8,3.9 -8.8,8.8 v 23.1 c 0,4.3 3,7.8 6.9,8.6 L 46,90.4 H 29 c -4.9,0 -8.8,3.9 -8.8,8.8 v 23.1 c 0,4.9 3.9,8.8 8.8,8.8 h 30 c 4.9,0 8.8,-3.9 8.8,-8.8 V 99.2 c 0,-4.9 -3.9,-8.8 -8.8,-8.8 H 56.1 L 73.9,60 h 13.9 l 17.9,30.4 h -3 c -4.9,0 -8.8,3.9 -8.8,8.8 v 23.1 c 0,4.9 3.9,8.8 8.8,8.8 h 30 c 4.9,0 8.8,-3.9 8.8,-8.8 V 99.2 c 0,-4.9 -3.9,-8.9 -8.8,-8.9 z"/>\n  </g>\n</svg>\n'},186:(e,t,a)=>{"use strict";var n=a(402),i=a.n(n),o=a(599);i()(o.Z,{insert:"head",singleton:!1}),o.Z.locals},402:(e,t,a)=>{"use strict";var n,i=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),o=[];function s(e){for(var t=-1,a=0;a<o.length;a++)if(o[a].identifier===e){t=a;break}return t}function r(e,t){for(var a={},n=[],i=0;i<e.length;i++){var r=e[i],l=t.base?r[0]+t.base:r[0],d=a[l]||0,c="".concat(l," ").concat(d);a[l]=d+1;var p=s(c),h={css:r[1],media:r[2],sourceMap:r[3]};-1!==p?(o[p].references++,o[p].updater(h)):o.push({identifier:c,updater:f(h,t),references:1}),n.push(c)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=a.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function p(e,t,a,n){var i=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function h(e,t,a){var n=a.css,i=a.media,o=a.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,g=0;function f(e,t){var a,n,i;if(t.singleton){var o=g++;a=m||(m=l(t)),n=p.bind(null,a,o,!1),i=p.bind(null,a,o,!0)}else a=l(t),n=h.bind(null,a,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var a=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var i=s(a[n]);o[i].references--}for(var l=r(e,t),d=0;d<a.length;d++){var c=s(a[d]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}a=l}}}},649:(e,t,a)=>{"use strict";a.d(t,{S:()=>c});var n=a(797),i=a(168),o=a(520),s=(a(186),a(36));const r={embed:1,proto:"json",configure:1},l=["allow-forms","allow-modals","allow-orientation-lock","allow-pointer-lock","allow-popups","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation"],d="jp-Diagram-ready";class c extends o.IFrame{constructor(e){super(Object.assign({sandbox:l},e)),this._ready=new n.PromiseDelegate,this._initialLoad=!1,this._frameClicked=new i.Signal(this),this._appChanged=new i.Signal(this),this.addClass("jp-Diagram"),this.adapter=e.adapter}exportAs(e){return this._exportPromise=new n.PromiseDelegate,this.postMessage({action:"export",format:e}),this._exportPromise.promise}get app(){return this._app}set app(e){s.eM&&console.warn("drawio app",e),this._app!=e&&(this._app=e,null==e?console.warn("drawio app was not available"):null==e||e.container.addEventListener("mousedown",(()=>{this._frameClicked.emit(void 0)})),this._appChanged.emit(void 0))}get appChanged(){return this._appChanged}handleMessageEvent(e){var t,a,n;const i=JSON.parse(e.data);if(null!=(null===(t=this._frame)||void 0===t?void 0:t.contentWindow)&&e.source===this._frame.contentWindow)switch(s.eM&&console.warn("drawio message received",i),i.event){case"configure":this.configureDrawio();break;case"init":this.onContentChanged();break;case"load":this.app=(null===(a=this._frame)||void 0===a?void 0:a.contentWindow).IPYDRAWIO_APP,this._ready.resolve(void 0),this._initialLoad=!0,this.addClass(d);break;case"save":if(null===(n=this.format)||void 0===n?void 0:n.isTransformed){this.saveWithExport(!0);break}this._lastEmitted=i.xml,this.save(i.xml,!0);break;case"autosave":if(this.adapter.saveNeedsExport()){this.saveWithExport();break}this._lastEmitted=i.xml,this.save(i.xml);break;case"export":null!=this._exportPromise&&(this._exportPromise.resolve(i.data),this._exportPromise=null),null!=this._saveWithExportPromise&&(this._saveWithExportPromise.resolve(i.data),this._saveWithExportPromise=null);break;default:s.eM&&console.warn("unhandled message",i.event,i)}}onAfterShow(e){var t;null==(null===(t=this._frame)||void 0===t?void 0:t.contentWindow)&&(this._frame=this.node.querySelector("iframe"),window.addEventListener("message",(e=>this.handleMessageEvent(e)))),this.maybeReloadFrame()}save(e,t=!1){this.adapter.fromXML(e,t)}saveWithExport(e=!1){const{format:t}=this;if(null==t)return void console.warn("cannot save without context");const{mimetype:a}=t;null!=(null==t?void 0:t.save)?(this._saveWithExportPromise=new n.PromiseDelegate,this.postMessage({action:"export",format:t.key}),this._saveWithExportPromise.promise.then((a=>{if(null==(null==t?void 0:t.save))return void console.warn("format cannot save",t);const n=t.save(a);n!==this._lastEmitted&&(this._lastEmitted=n,this.save(n,e))})).catch((e=>{console.error(e)}))):console.error(`Unexpected save with export of ${a}`)}configureDrawio(){let e=this.adapter.drawioConfig();const t=Object.assign(Object.assign({},e||{}),{version:""+ +new Date});s.eM&&console.warn("configuring drawio",t),this.postMessage({action:"configure",config:t})}postMessage(e){var t;return null!=(null===(t=this._frame)||void 0===t?void 0:t.contentWindow)&&(this._frame.contentWindow.postMessage(JSON.stringify(e),"*"),!0)}maybeReloadFrame(e=!1){if(this.isHidden||!this.isVisible)return;const t=new URLSearchParams,a=this.adapter.urlParams(),n=Object.assign(Object.assign({},a||{}),r);let i="";for(const e in n)"p"!=e?t.append(e,n[e]):i=n[e];const o=this.adapter.drawioUrl()+"?"+t.toString()+`&p=${i}`;(e||this.url!==o)&&(s.eM&&console.warn("configuring iframe",n),this.removeClass(d),this.url=o,this._initialLoad=!1,this._frame.onload=()=>{null!=this._frame.contentDocument||console.warn("contentDocument not ready")})}onContentChanged(){var e,t;if(!(null===(e=this._frame)||void 0===e?void 0:e.contentWindow)||!this.format)return void(s.eM&&console.warn("contentWindow or format not ready",null===(t=this._frame)||void 0===t?void 0:t.contentWindow,this.format));let a=this.adapter.toXML();a!==this._lastEmitted?("base64"===this.format.modelName&&(a=`data:${this.format.mimetype};base64,${a}`),this._initialLoad?this.postMessage({action:"merge",xml:a}):this.postMessage({action:"load",autosave:1,noSaveBtn:1,noExitBtn:1,xml:a})):s.eM&&console.warn("content has not changed")}get format(){return this.adapter.format()}get frameClicked(){return this._frameClicked}get ready(){return this._ready.promise}}},557:(e,t,a)=>{"use strict";a.d(t,{W6:()=>v,t6:()=>x,WY:()=>b,WB:()=>w,GS:()=>u,QL:()=>f,R3:()=>g,nm:()=>m,Fn:()=>h,Fl:()=>p,EH:()=>l,Wy:()=>r,TI:()=>c,Hx:()=>d});var n=a(802),i=a(689),o=a(36);function s(e){return e.split(",")[1]}const r=new n.LabIcon({name:"drawio:plain",svgstr:i.Z.replace(o.zw,"jp-icon3")}),l=new n.LabIcon({name:"drawio:drawio",svgstr:i.Z}),d=new n.LabIcon({name:"drawio:svg",svgstr:i.Z.replace(o.zw,"jp-icon-contrast1")}),c=new n.LabIcon({name:"drawio:png",svgstr:i.Z.replace(o.zw,"jp-icon-contrast0")}),p={ext:".dio",format:"text",icon:l,key:"drawio",label:"Diagram",mimetype:"application/x-drawio",name:"dio",modelName:"text",factoryName:o.fO,isExport:!0,isEditable:!0,isText:!0,isDefault:!0,isTransformed:!1,exporter:async(e,t,a)=>await e.adapter.toXML()},h={ext:".drawio",format:"text",icon:l,key:"dio",label:"Diagram (mxgraph)",mimetype:"application/x-mxgraph",name:"dio-legacy",modelName:"text",factoryName:`${o.fO} (Legacy)`,isExport:!0,isEditable:!0,isText:!0,isDefault:!0,isTransformed:!1},m={ext:".svg",format:"text",factoryName:`${o.fO} (SVG)`,modelName:"text",icon:d,key:"svg",label:"SVG",mimetype:"image/svg+xml",name:"svg",save:function(e){return atob(s(e))},isDefault:!1,isExport:!0,isText:!0,isTransformed:!0},g=Object.assign(Object.assign({},m),{factoryName:`${o.fO} (Editable SVG)`,ext:".dio.svg",key:"xmlsvg",label:"SVG (Editable)",name:"diosvg",pattern:"^.*.dio.svg$",isEditable:!0,isDefault:!0,isTransformed:!0}),f={ext:".png",format:"base64",modelName:"base64",factoryName:`${o.mD} (PNG)`,icon:c,key:"png",label:"PNG",mimetype:"image/png",name:"png",save:s,isBinary:!0,isExport:!0,isTransformed:!0},u=Object.assign(Object.assign({},f),{factoryName:`${o.mD} (Editable PNG)`,ext:".dio.png",key:"xmlpng",label:"PNG (Editable)",name:"diopng",pattern:"^.*.dio.png$",isEditable:!0,isDefault:!0}),v=[f,u],w=[g,m,p,h],b=[p],x=[...v,...w]},36:(e,t,a)=>{"use strict";a.d(t,{NS:()=>o,q4:()=>s,Uu:()=>r,sr:()=>l,fO:()=>d,mD:()=>c,Yg:()=>p,zY:()=>h,tm:()=>m,eM:()=>g,e4:()=>f,zw:()=>u,rY:()=>v,OF:()=>w,GE:()=>b,lq:()=>x,wO:()=>y,qp:()=>C,Bx:()=>_,Fy:()=>E,up:()=>j,gZ:()=>D});var n=a(797),i=a(689);const o="@deathbeds/ipydrawio",s="1.0.0-alpha0",r=`${o}:plugin`,l="ipydrawio",d="Diagram",c="Diagram Image",p="Diagram Notebook",h=i.Z,m=o,g=window.location.href.indexOf("DRAWIO_DEBUG")>-1,f=g?window.location.href.indexOf("DRAWIO_DEBUG"):0,u=/jp-icon-warn0/,v=new n.Token(r);var w;!function(e){e.createNew="drawio:create-new"}(w||(w={}));const b=["backgroundColorChanged","backgroundImageChanged","connectionArrowsChanged","connectionPointsChanged","copyConnectChanged","customFontsChanged","foldingEnabledChanged","formatWidthChanged","gridColorChanged","gridEnabledChanged","guidesEnabledChanged","mathEnabledChanged","pageFormatChanged","pageScaleChanged","pageViewChanged","pageViewChanged","shadowVisibleChanged","styleChanged"],x=["autosaveChanged","fileLoaded","fileLoaded","pageSelected","resetGraphView","statusChanged"],y=["cellsAdded","cellsInserted","editingStarted","editingStopped","escape","fireMouseEvent","gesture","gridSizeChanged","moveCells","pan","resizeCells","root","shadowVisibleChanged","size","startEditing","tapAndHold","textInserted","viewStateChanged"],C=["change"],_=["down","scale","scaleAndTranslate","translate","undo","unitChanged","up"],E=["panStart","panEnd","pan"],j=["change"],D=["change"]}}]);