(self.webpackChunk_deathbeds_ipydrawio=self.webpackChunk_deathbeds_ipydrawio||[]).push([[527],{527:(t,e,i)=>{"use strict";i.r(e),i.d(e,{MIME_CLASS:()=>d,extensions:()=>l,default:()=>h,RenderedDiagram:()=>m});var a=i(510),s=i(557),n=i(36),o=i(649),r=i(703);const d="jp-DiagramMedia",l=s.WY.map((t=>{const{name:e}=t;return{id:`${n.NS}:rendermime-${e}`,name:e,rendererFactory:{safe:!0,mimeTypes:[t.mimetype],createRenderer:e=>(n.eM&&console.error("creating renderer"),new m(Object.assign(Object.assign({},e),{format:t})))},dataType:"string"}})),h=l;class m extends a.Panel{constructor(t){super(),this.initialized=!1,this.addClass(d),this.format=t.format,this.content=new o.S({adapter:{format:()=>this.format,urlParams:()=>{var t;let e={};const{manager:i}=m;null!=i&&(e=i.settings.composite.drawioUrlParams||{});const a=((null===(t=this.lastModel)||void 0===t?void 0:t.metadata)[this.format.mimetype]||{}).drawioUrlParams;return null!=a&&(e=Object.assign(Object.assign({},e),a)),e},drawioUrl:()=>r.DRAWIO_URL,saveNeedsExport:()=>{var t;return(null===(t=this.format)||void 0===t?void 0:t.isTransformed)||!0},drawioConfig:()=>{var t;let e={};const{manager:i}=m;null!=i&&(e=i.settings.composite.drawioConfig||{});const a=((null===(t=this.lastModel)||void 0===t?void 0:t.metadata)[this.format.mimetype]||{}).drawioConfig;return null!=a&&(e=Object.assign(Object.assign({},e),a)),e},toXML:()=>{var t;return null==this.lastModel?"":(null===(t=this.lastModel.data[this.format.mimetype])||void 0===t?void 0:t.toString())||""},fromXML:()=>{}}}),this.layout.addWidget(this.content)}onAfterShow(){this.initialized||(this.content.onAfterShow(),this.initialized=!0),this.content.onContentChanged()}async renderModel(t){const e=t.metadata||{},i=e?e[this.format.mimetype]:null;if(null!=i){const t=i.height?`${i.height}`:"";this.node.style.minHeight=t}this.lastModel=t,this.initialized?this.content.onContentChanged():this.isVisible?this.onAfterShow():setTimeout((()=>this.onAfterShow()),100)}}}}]);