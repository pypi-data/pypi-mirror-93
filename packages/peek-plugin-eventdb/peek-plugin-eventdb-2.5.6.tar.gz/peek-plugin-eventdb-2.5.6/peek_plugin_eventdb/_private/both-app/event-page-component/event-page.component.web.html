<div class="margin">

    <div nz-row nzGutter="8">
        <!-- Event Filter -->
        <div nz-col nzSm="2">
            <plugin-eventdb-event-filter
                #eventFilter
                [modelSetKey]="modelSetKey"
                (filterChange)="eventList.updateFilter($event);updateRoute()"></plugin-eventdb-event-filter>
        </div>

        <!-- Event List -->
        <div nz-col nzSm="2">
            <plugin-eventdb-event-column
                #eventColumns
                [modelSetKey]="modelSetKey"
                (columnChange)="eventList.updateColumn($event);updateRoute()"></plugin-eventdb-event-column>
        </div>

        <!-- Event List -->
        <!-- TODO <i nz-icon nzType="download"></i> -->
        <div nz-col nzSm="2">
            <a nz-button nzType="default"
               [href]="downloadUrl"
               download="peek_events.csv">
                Download
            </a>
        </div>

        <!-- Color Switch -->
        <div nz-col nzSm="2">
            <nz-switch [ngModel]="eventList.colorsEnabled"
                       (ngModelChange)="eventList.updateColors($event);updateRoute()"
                       nzCheckedChildren="Colors"
                       nzUnCheckedChildren="Colors"></nz-switch>
        </div>

        <!-- Alarms Only Switch -->
        <div nz-col nzSm="2">
            <nz-switch [ngModel]="eventFilter.alarmsOnlyEnabled"
                       (ngModelChange)="eventFilter.updateAlarmsOnly($event);updateRoute()"
                       nzCheckedChildren="Alarms Only"
                       nzUnCheckedChildren="Alarms Only"></nz-switch>
        </div>

        <!-- Live Switch -->
        <div nz-col nzSm="2">
            <nz-switch [ngModel]="eventFilter.liveEnabled"
                       (ngModelChange)="eventFilter.updateLive($event);updateRoute()"
                       nzCheckedChildren="Live"
                       nzUnCheckedChildren="Live"></nz-switch>
        </div>

        <!-- Notes -->
        <div nz-col nzSm="6">
            A maximum of 5000 Alarms and Events will be loaded.
        </div>

    </div>

    <!-- The event list -->
    <div nz-row nzGutter="8">
        <div nz-col nzSpan="24">
            <plugin-eventdb-event-list
                [modelSetKey]="modelSetKey"
                #eventList></plugin-eventdb-event-list>
        </div>
    </div>


    <br/>
</div>
